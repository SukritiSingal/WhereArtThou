!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(function(e){function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=s),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var i=e(this),r=i.data(P);r||(r=new n(this,t),i.data(P,r))})}function n(t,n){function L(t){if(ft.data(P+"_intouch")!==!0&&!(e(t.target).closest(n.excludedElements,ft).length>0)){var i,r=t.originalEvent?t.originalEvent:t,l=x?r.touches[0]:r;return wt=m,x?Tt=r.touches.length:t.preventDefault(),at=0,dt=ot=null,ct=st=ut=0,ht=1,pt=0,vt=B(),gt=Z(),Et=St=0,!x||Tt===n.fingers||n.fingers===v||Q()?(V(0,l),bt=$(),2==Tt&&(V(1,r.touches[1]),st=ct=K(vt[0].start,vt[1].start)),(n.swipeStatus||n.pinchStatus)&&(i=U(r,wt))):i=!1,i===!1?(wt=y,U(r,wt),i):(n.hold&&(Ot=setTimeout(e.proxy(function(){ft.trigger("hold",[r.target]),n.hold&&(i=n.hold.call(ft,r,r.target))},this),n.longTapThreshold)),F(!0),null)}}function D(t){var h=t.originalEvent?t.originalEvent:t;if(wt!==E&&wt!==y&&!W()){var p,d=z(x?h.touches[0]:h);if(mt=$(),x&&(Tt=h.touches.length),n.hold&&clearTimeout(Ot),wt=S,2==Tt&&(0==st?(V(1,h.touches[1]),st=ct=K(vt[0].start,vt[1].start)):(z(h.touches[1]),ct=K(vt[0].end,vt[1].end),dt=1>ht?u:o),ht=(ct/st*1).toFixed(2),pt=Math.abs(st-ct)),Tt===n.fingers||n.fingers===v||!x||Q()){var g;g=d.start;var f=d.end;if(g=Math.round(180*Math.atan2(f.y-g.y,g.x-f.x)/Math.PI),0>g&&(g=360-Math.abs(g)),g=ot=45>=g&&g>=0?i:360>=g&&g>=315?i:g>=135&&225>=g?r:g>45&&135>g?a:l,n.allowPageScroll===s||Q())t.preventDefault();else switch(f=n.allowPageScroll===c,g){case i:(n.swipeLeft&&f||!f&&n.allowPageScroll!=w)&&t.preventDefault();break;case r:(n.swipeRight&&f||!f&&n.allowPageScroll!=w)&&t.preventDefault();break;case l:(n.swipeUp&&f||!f&&n.allowPageScroll!=T)&&t.preventDefault();break;case a:(n.swipeDown&&f||!f&&n.allowPageScroll!=T)&&t.preventDefault()}at=Math.round(Math.sqrt(Math.pow(d.end.x-d.start.x,2)+Math.pow(d.end.y-d.start.y,2))),ut=mt-bt,t=ot,g=at,g=Math.max(g,G(t)),gt[t].distance=g,(n.swipeStatus||n.pinchStatus)&&(p=U(h,wt)),(!n.triggerOnTouchEnd||n.triggerOnTouchLeave)&&(t=!0,n.triggerOnTouchLeave&&(t=e(this),g=t.offset(),t={left:g.left,right:g.left+t.outerWidth(),top:g.top,bottom:g.top+t.outerHeight()},t=d.end.x>t.left&&d.end.x<t.right&&d.end.y>t.top&&d.end.y<t.bottom),!n.triggerOnTouchEnd&&t?wt=I(S):n.triggerOnTouchLeave&&!t&&(wt=I(E)),(wt==y||wt==E)&&U(h,wt))}else wt=y,U(h,wt);p===!1&&(wt=y,U(h,wt))}}function k(e){var t=e.originalEvent;return x&&t.touches.length>0?(St=$(),Et=event.touches.length+1,!0):(W()&&(Tt=Et),mt=$(),ut=mt-bt,_()||!H()?(wt=y,U(t,wt)):n.triggerOnTouchEnd||0==n.triggerOnTouchEnd&&wt===S?(e.preventDefault(),wt=E,U(t,wt)):!n.triggerOnTouchEnd&&n.tap?(wt=E,j(t,wt,d)):wt===S&&(wt=y,U(t,wt)),F(!1),null)}function A(){ct=st=bt=mt=Tt=0,ht=1,Et=St=0,F(!1)}function R(e){e=e.originalEvent,n.triggerOnTouchLeave&&(wt=I(E),U(e,wt))}function N(){ft.unbind(tt,L),ft.unbind(lt,A),ft.unbind(nt,D),ft.unbind(it,k),rt&&ft.unbind(rt,R),F(!1)}function I(e){var t=e,i=n.maxTimeThreshold&&ut>=n.maxTimeThreshold?!1:!0,r=H(),l=_();return!i||l?t=y:!r||e!=S||n.triggerOnTouchEnd&&!n.triggerOnTouchLeave?!r&&e==E&&n.triggerOnTouchLeave&&(t=y):t=E,t}function U(e,t){var i=void 0;return C()&&X()||X()?i=j(e,t,h):(q()&&Q()||Q())&&i!==!1&&(i=j(e,t,p)),Y()&&n.doubleTap&&i!==!1?i=j(e,t,g):ut>n.longTapThreshold&&b>at&&n.longTap&&i!==!1?i=j(e,t,f):(1===Tt||!x)&&(isNaN(at)||at<n.threshold)&&n.tap&&i!==!1&&(i=j(e,t,d)),t===y&&A(e),t===E&&(x?0==e.touches.length&&A(e):A(e)),i}function j(t,s,c){var w=void 0;if(c==h){if(ft.trigger("swipeStatus",[s,ot||null,at||0,ut||0,Tt,vt]),n.swipeStatus&&(w=n.swipeStatus.call(ft,t,s,ot||null,at||0,ut||0,Tt,vt),w===!1))return!1;if(s==E&&C()){if(ft.trigger("swipe",[ot,at,ut,Tt,vt]),n.swipe&&(w=n.swipe.call(ft,t,ot,at,ut,Tt,vt),w===!1))return!1;switch(ot){case i:ft.trigger("swipeLeft",[ot,at,ut,Tt,vt]),n.swipeLeft&&(w=n.swipeLeft.call(ft,t,ot,at,ut,Tt,vt));break;case r:ft.trigger("swipeRight",[ot,at,ut,Tt,vt]),n.swipeRight&&(w=n.swipeRight.call(ft,t,ot,at,ut,Tt,vt));break;case l:ft.trigger("swipeUp",[ot,at,ut,Tt,vt]),n.swipeUp&&(w=n.swipeUp.call(ft,t,ot,at,ut,Tt,vt));break;case a:ft.trigger("swipeDown",[ot,at,ut,Tt,vt]),n.swipeDown&&(w=n.swipeDown.call(ft,t,ot,at,ut,Tt,vt))}}}if(c==p){if(ft.trigger("pinchStatus",[s,dt||null,pt||0,ut||0,Tt,ht,vt]),n.pinchStatus&&(w=n.pinchStatus.call(ft,t,s,dt||null,pt||0,ut||0,Tt,ht,vt),w===!1))return!1;if(s==E&&q())switch(dt){case o:ft.trigger("pinchIn",[dt||null,pt||0,ut||0,Tt,ht,vt]),n.pinchIn&&(w=n.pinchIn.call(ft,t,dt||null,pt||0,ut||0,Tt,ht,vt));break;case u:ft.trigger("pinchOut",[dt||null,pt||0,ut||0,Tt,ht,vt]),n.pinchOut&&(w=n.pinchOut.call(ft,t,dt||null,pt||0,ut||0,Tt,ht,vt))}}return c==d?(s===y||s===E)&&(clearTimeout(xt),clearTimeout(Ot),n.doubleTap&&!Y()?(yt=$(),xt=setTimeout(e.proxy(function(){yt=null,ft.trigger("tap",[t.target]),n.tap&&(w=n.tap.call(ft,t,t.target))},this),n.doubleTapThreshold)):(yt=null,ft.trigger("tap",[t.target]),n.tap&&(w=n.tap.call(ft,t,t.target)))):c==g?(s===y||s===E)&&(clearTimeout(xt),yt=null,ft.trigger("doubletap",[t.target]),n.doubleTap&&(w=n.doubleTap.call(ft,t,t.target))):c!=f||s!==y&&s!==E||(clearTimeout(xt),yt=null,ft.trigger("longtap",[t.target]),n.longTap&&(w=n.longTap.call(ft,t,t.target))),w}function H(){var e=!0;return null!==n.threshold&&(e=at>=n.threshold),e}function _(){var e=!1;return null!==n.cancelThreshold&&null!==ot&&(e=G(ot)-at>=n.cancelThreshold),e}function q(){var e,t=Tt===n.fingers||n.fingers===v||!x,i=0!==vt[0].end.x;return e=null!==n.pinchThreshold?pt>=n.pinchThreshold:!0,t&&i&&e}function Q(){return!(!n.pinchStatus&&!n.pinchIn&&!n.pinchOut)}function C(){var e=n.maxTimeThreshold&&ut>=n.maxTimeThreshold?!1:!0,t=H(),i=Tt===n.fingers||n.fingers===v||!x,r=0!==vt[0].end.x;return!_()&&r&&i&&t&&e}function X(){return!!(n.swipe||n.swipeStatus||n.swipeLeft||n.swipeRight||n.swipeUp||n.swipeDown)}function Y(){if(null==yt)return!1;var e=$();return!!n.doubleTap&&e-yt<=n.doubleTapThreshold}function W(){var e=!1;return St&&$()-St<=n.fingerReleaseThreshold&&(e=!0),e}function F(e){e===!0?(ft.bind(nt,D),ft.bind(it,k),rt&&ft.bind(rt,R)):(ft.unbind(nt,D,!1),ft.unbind(it,k,!1),rt&&ft.unbind(rt,R,!1)),ft.data(P+"_intouch",e===!0)}function V(e,t){return vt[e].identifier=void 0!==t.identifier?t.identifier:0,vt[e].start.x=vt[e].end.x=t.pageX||t.clientX,vt[e].start.y=vt[e].end.y=t.pageY||t.clientY,vt[e]}function z(e){var t;e:{for(t=0;t<vt.length;t++)if(vt[t].identifier==(void 0!==e.identifier?e.identifier:0)){t=vt[t];break e}t=void 0}return t.end.x=e.pageX||e.clientX,t.end.y=e.pageY||e.clientY,t}function B(){for(var e=[],t=0;5>=t;t++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}function G(e){return gt[e]?gt[e].distance:void 0}function Z(){var e={};return e[i]=J(i),e[r]=J(r),e[l]=J(l),e[a]=J(a),e}function J(e){return{direction:e,distance:0}}function K(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function $(){return(new Date).getTime()}var et=x||M||!n.fallbackToMouseEvents,tt=et?M?O?"MSPointerDown":"pointerdown":"touchstart":"mousedown",nt=et?M?O?"MSPointerMove":"pointermove":"touchmove":"mousemove",it=et?M?O?"MSPointerUp":"pointerup":"touchend":"mouseup",rt=et?null:"mouseleave",lt=M?O?"MSPointerCancel":"pointercancel":"touchcancel",at=0,ot=null,ut=0,st=0,ct=0,ht=1,pt=0,dt=0,gt=null,ft=e(t),wt="start",Tt=0,vt=null,bt=0,mt=0,St=0,Et=0,yt=0,xt=null,Ot=null;try{ft.bind(tt,L),ft.bind(lt,A)}catch(Mt){e.error("events not supported "+tt+","+lt+" on jQuery.swipe")}this.enable=function(){return ft.bind(tt,L),ft.bind(lt,A),ft},this.disable=function(){return N(),ft},this.destroy=function(){return N(),ft.data(P,null),ft},this.option=function(t,i){if(void 0!==n[t]){if(void 0===i)return n[t];n[t]=i}else e.error("Option "+t+" does not exist on jQuery.swipe.options");return null}}var i="left",r="right",l="up",a="down",o="in",u="out",s="none",c="auto",h="swipe",p="pinch",d="tap",g="doubletap",f="longtap",w="horizontal",T="vertical",v="all",b=10,m="start",S="move",E="end",y="cancel",x="ontouchstart"in window,O=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,M=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,P="TouchSwipe";e.fn.swipe=function(n){var i=e(this),r=i.data(P);if(r&&"string"==typeof n){if(r[n])return r[n].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+n+" does not exist on jQuery.swipe")}else if(!(r||"object"!=typeof n&&n))return t.apply(this,arguments);return i},e.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"},e.fn.swipe.phases={PHASE_START:m,PHASE_MOVE:S,PHASE_END:E,PHASE_CANCEL:y},e.fn.swipe.directions={LEFT:i,RIGHT:r,UP:l,DOWN:a,IN:o,OUT:u},e.fn.swipe.pageScroll={NONE:s,HORIZONTAL:w,VERTICAL:T,AUTO:c},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:v}}),function(){if("undefined"!=typeof Muse&&"undefined"!=typeof Muse.assets){var e=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]==t)return n;return-1}(Muse.assets.required,"touchswipe.js");if(-1!=e){Muse.assets.required.splice(e,1);for(var e=document.getElementsByTagName("meta"),t=0,n=e.length;n>t;t++){var i=e[t];if("generator"==i.getAttribute("name")){"2014.3.2.295"!=i.getAttribute("content")&&Muse.assets.outOfDate.push("touchswipe.js");break}}}}}();